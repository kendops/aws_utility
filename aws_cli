#!/bin/bash

#aws ec2 describe-instances --query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,PrivateIP:PrivateIpAddress,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,ElasticIPAddress:ElasticIpAddress,InstanceID:InstanceId,InstanceType:InstanceType,SubnetID:SubnetId,VPCID:VpcId}" --output table | grep -v terminated 
aws ec2 describe-instances --query "Reservations[*].Instances[*].{InstanceID:InstanceId,PrivateIP:PrivateIpAddress,PublicIP:PublicIpAddress,VPC:VpcId,SecurityGroups:SecurityGroups[*].GroupName|join(', ', @),EIP:NetworkInterfaces[0].Association.PublicIp,Subnet:SubnetId,Type:InstanceType,Status:State.Name,KeyPair:KeyName,Name:Tags[?Key=='Name'].Value|[0]}" --output table | grep -v terminated
### aws ec2 describe-instances --query 'Reservations[*].Instances[*].{InstanceName:Tags[?Key==Name] | [0].Value,PublicIPAddress:PublicIpAddress,ElasticIPAddress:ElasticIpAddress,PublicDnsName:PublicDnsName,InstanceID:InstanceId,InstanceType:InstanceType,InstanceState:State.Name,SubnetID:SubnetId,VPCID:VpcId}' --output table 
### aws ec2 describe-instances --query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name,ElasticIPAddress:ElasticIpAddress,PublicDnsName:PublicDnsName,InstanceID:InstanceId,InstanceType:InstanceType,SubnetID:SubnetId,VPCID:VpcId}" --output table
